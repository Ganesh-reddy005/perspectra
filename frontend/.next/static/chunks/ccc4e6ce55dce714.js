(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},41240,e=>{"use strict";let t=(0,e.i(75254).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["Lightbulb",()=>t],41240)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},55711,e=>{"use strict";let t=(0,e.i(75254).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["Brain",()=>t],55711)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),a=e.i(31178),i=e.i(47414),l=e.i(74008),n=e.i(21476),r=e.i(72846),c=s,d=e.i(37806);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class x extends c.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,s=(0,r.isHTMLElement)(e)&&e.offsetWidth||0,a=(0,r.isHTMLElement)(e)&&e.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left,i.bottom=a-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:a,anchorX:i,anchorY:l,root:n,pop:r}){let p=(0,c.useId)(),h=(0,c.useRef)(null),u=(0,c.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=(0,c.useContext)(d.MotionConfigContext),f=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,a=e.map(e=>{let a=o(e,t);return s||"function"!=typeof a||(s=!0),a});if(s)return()=>{for(let t=0;t<a.length;t++){let s=a[t];"function"==typeof s?s():o(e[t],null)}}}}(...e),e)}(h,e.props?.ref??e?.ref);return(0,c.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:c,right:d,bottom:o}=u.current;if(a||!1===r||!h.current||!e||!t)return;let x="left"===i?`left: ${c}`:`right: ${d}`,f="bottom"===l?`bottom: ${o}`:`top: ${s}`;h.current.dataset.motionPopId=p;let b=document.createElement("style");m&&(b.nonce=m);let g=n??document.head;return g.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${x}px !important;
            ${f}px !important;
          }
        `),()=>{g.contains(b)&&g.removeChild(b)}},[a]),(0,t.jsx)(x,{isPresent:a,childRef:h,sizeRef:u,pop:r,children:!1===r?e:c.cloneElement(e,{ref:f})})}let h=({children:e,initial:a,isPresent:l,onExitComplete:r,custom:c,presenceAffectsLayout:d,mode:o,anchorX:x,anchorY:h,root:m})=>{let f=(0,i.useConstant)(u),b=(0,s.useId)(),g=!0,j=(0,s.useMemo)(()=>(g=!1,{id:b,initial:a,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;r&&r()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[l,f,r]);return d&&g&&(j={...j}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[l]),s.useEffect(()=>{l||f.size||!r||r()},[l]),e=(0,t.jsx)(p,{pop:"popLayout"===o,isPresent:l,anchorX:x,anchorY:h,root:m,children:e}),(0,t.jsx)(n.PresenceContext.Provider,{value:j,children:e})};function u(){return new Map}var m=e.i(64978);let f=e=>e.key||"";function b(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:n,initial:r=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:o="sync",propagate:x=!1,anchorX:p="left",anchorY:u="top",root:g})=>{let[j,v]=(0,m.usePresence)(x),y=(0,s.useMemo)(()=>b(e),[e]),N=x&&!j?[]:y.map(f),w=(0,s.useRef)(!0),k=(0,s.useRef)(y),C=(0,i.useConstant)(()=>new Map),M=(0,s.useRef)(new Set),[S,A]=(0,s.useState)(y),[E,R]=(0,s.useState)(y);(0,l.useIsomorphicLayoutEffect)(()=>{w.current=!1,k.current=y;for(let e=0;e<E.length;e++){let t=f(E[e]);N.includes(t)?(C.delete(t),M.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[E,N.length,N.join("-")]);let P=[];if(y!==S){let e=[...y];for(let t=0;t<E.length;t++){let s=E[t],a=f(s);N.includes(a)||(e.splice(t,0,s),P.push(s))}return"wait"===o&&P.length&&(e=P),R(b(e)),A(y),null}let{forceRender:L}=(0,s.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let s=f(e),a=(!x||!!j)&&(y===E||N.includes(s));return(0,t.jsx)(h,{isPresent:a,initial:(!w.current||!!r)&&void 0,custom:n,presenceAffectsLayout:d,mode:o,root:g,onExitComplete:a?void 0:()=>{if(M.current.has(s)||(M.current.add(s),!C.has(s)))return;C.set(s,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(L?.(),R(k.current),x&&v?.(),c&&c())},anchorX:p,anchorY:u,children:e},s)})})};e.s(["AnimatePresence",()=>g],88653)},26640,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),i=e.i(88653),l=e.i(18566),n=e.i(22016),r=e.i(43918),c=e.i(7767),d=e.i(75254);let o=(0,d.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),x=(0,d.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var p=e.i(41240),h=e.i(55711);let u=(0,d.default)("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);var m=e.i(69638),f=e.i(78894),b=e.i(25652),g=e.i(10980);let j=(0,d.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),v=(0,d.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),y=["","Easy","Easy-Med","Medium","Hard","Expert"],N=["","text-green-600","text-lime-600","text-yellow-600","text-red-600","text-purple-600"];function w(){let e=(0,l.useRouter)(),d=(0,l.useParams)(),w=d?.id,{isAuthenticated:k}=(0,r.useAuthStore)(),[C,M]=(0,s.useState)(null),[S,A]=(0,s.useState)("def solution():\n    # Write your solution here\n    pass\n"),[E,R]=(0,s.useState)("python"),[P,L]=(0,s.useState)(!0),[T,z]=(0,s.useState)(!1),[$,H]=(0,s.useState)("review"),[I,_]=(0,s.useState)(null),[q,B]=(0,s.useState)(""),[U,G]=(0,s.useState)(""),[O,W]=(0,s.useState)(""),[F,K]=(0,s.useState)(!1),[D,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{k?c.problemsApi.get(w).then(({data:e})=>M(e)).catch(()=>e.push("/problems")).finally(()=>L(!1)):e.push("/login")},[k,w,e]);let V=async()=>{if(S.trim()&&!T){z(!0),H("review"),_(null);try{let{data:e}=await c.reviewApi.submit({problem_id:w,code:S,language:E});_(e)}catch{}finally{z(!1)}}},X=async()=>{if(q.trim()&&!F){K(!0),G("");try{let{data:e}=await c.tutorApi.ask({problem_id:w,question:q});G(e.response)}catch{G("Sorry, the tutor is unavailable. Try again.")}finally{K(!1)}}},Y=async()=>{if(!D){J(!0),W("");try{let{data:e}=await c.tutorApi.hint({problem_id:w});W(e.hint)}catch{W("Sorry, hint unavailable right now.")}finally{J(!1)}}};return P||!C?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#faf9f6] pt-16",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-[#f97316] border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-[#faf9f6] pt-16 flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-[#e5e7eb] bg-white px-6 py-3 flex items-center gap-4",children:[(0,t.jsx)(n.default,{href:"/problems",className:"text-[#9ca3af] hover:text-[#0d0d0d] transition-colors",children:(0,t.jsx)(o,{className:"w-4 h-4"})}),(0,t.jsx)("h1",{className:"font-semibold text-sm text-[#0d0d0d] flex-1 truncate",children:C.title}),(0,t.jsx)("span",{className:`text-xs font-bold ${N[C.difficulty]}`,children:y[C.difficulty]}),(0,t.jsxs)("select",{value:E,onChange:e=>R(e.target.value),className:"text-xs border border-[#e5e7eb] rounded px-2 py-1 outline-none bg-white text-[#374151]",children:[(0,t.jsx)("option",{value:"python",children:"Python"}),(0,t.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,t.jsx)("option",{value:"java",children:"Java"}),(0,t.jsx)("option",{value:"cpp",children:"C++"})]}),(0,t.jsx)("button",{onClick:V,disabled:T,className:"btn-accent text-xs px-5 py-2 flex items-center gap-2",children:T?(0,t.jsx)(v,{className:"w-3 h-3 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"w-3 h-3"})," Submit & Review"]})})]}),(0,t.jsxs)("div",{className:"flex-1 grid lg:grid-cols-2 gap-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-y-auto border-r border-[#e5e7eb] bg-white",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:C.concept_ids?.map(e=>(0,t.jsx)("span",{className:"text-[10px] bg-[#f3f4f6] text-[#6b7280] px-2 py-0.5 rounded-full",children:e},e))}),(0,t.jsx)("h2",{className:"font-serif font-bold text-2xl text-[#0d0d0d] mb-4",children:C.title}),(0,t.jsx)("p",{className:"text-sm text-[#374151] leading-relaxed mb-6 whitespace-pre-wrap",children:C.description}),C.examples?.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wider text-[#6b7280] mb-3",children:"Examples"}),C.examples.map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#f9fafb] rounded-lg p-4 mb-3 text-xs font-mono",children:[(0,t.jsxs)("div",{className:"mb-1",children:[(0,t.jsx)("span",{className:"text-[#6b7280]",children:"Input: "}),(0,t.jsx)("span",{className:"text-[#0d0d0d]",children:e.input})]}),(0,t.jsxs)("div",{className:"mb-1",children:[(0,t.jsx)("span",{className:"text-[#6b7280]",children:"Output: "}),(0,t.jsx)("span",{className:"text-[#0d0d0d]",children:e.output})]}),e.explanation&&(0,t.jsx)("div",{className:"text-[#6b7280] mt-2 text-[11px]",children:e.explanation})]},s))]}),C.constraints?.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wider text-[#6b7280] mb-3",children:"Constraints"}),(0,t.jsx)("ul",{className:"text-xs text-[#374151] font-mono flex flex-col gap-1",children:C.constraints.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(j,{className:"w-3 h-3 text-[#f97316] mt-0.5 shrink-0"}),e]},s))})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden bg-[#faf9f6]",children:[(0,t.jsx)("div",{className:"flex-1 p-4 min-h-[300px]",children:(0,t.jsx)("textarea",{value:S,onChange:e=>A(e.target.value),className:"code-area w-full h-full min-h-[280px]",spellCheck:!1})}),(0,t.jsxs)("div",{className:"border-t border-[#e5e7eb] bg-white",children:[(0,t.jsx)("div",{className:"flex border-b border-[#e5e7eb]",children:[{id:"review",label:"Review",icon:g.BookOpen},{id:"tutor",label:"Ask AI",icon:h.Brain},{id:"hint",label:"Hint",icon:p.Lightbulb}].map(e=>(0,t.jsxs)("button",{onClick:()=>H(e.id),className:`flex items-center gap-1.5 px-5 py-3 text-xs font-semibold uppercase tracking-wider transition-colors border-b-2 ${$===e.id?"border-[#f97316] text-[#f97316]":"border-transparent text-[#9ca3af] hover:text-[#374151]"}`,children:[(0,t.jsx)(e.icon,{className:"w-3.5 h-3.5"}),e.label]},e.id))}),(0,t.jsx)("div",{className:"p-4 max-h-72 overflow-y-auto",children:(0,t.jsxs)(i.AnimatePresence,{mode:"wait",children:["review"===$&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[T&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#6b7280]",children:[(0,t.jsx)(v,{className:"w-4 h-4 animate-spin text-[#f97316]"}),"Reviewing your code…"]}),!T&&!I&&(0,t.jsx)("p",{className:"text-sm text-[#9ca3af]",children:"Submit your code above to get a personalized AI review."}),I&&(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(m.CheckCircle,{className:"w-3.5 h-3.5 text-green-500"}),(0,t.jsx)("span",{className:"text-xs font-bold text-green-600 uppercase tracking-wider",children:"Strengths"})]}),(0,t.jsx)("ul",{className:"text-xs text-[#374151] flex flex-col gap-1",children:I.strengths?.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(f.AlertTriangle,{className:"w-3.5 h-3.5 text-red-500"}),(0,t.jsx)("span",{className:"text-xs font-bold text-red-600 uppercase tracking-wider",children:"Weaknesses"})]}),(0,t.jsx)("ul",{className:"text-xs text-[#374151] flex flex-col gap-1",children:I.weaknesses?.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(b.TrendingUp,{className:"w-3.5 h-3.5 text-[#f97316]"}),(0,t.jsx)("span",{className:"text-xs font-bold text-[#f97316] uppercase tracking-wider",children:"Feedback"})]}),(0,t.jsx)("p",{className:"text-xs text-[#374151] leading-relaxed",children:I.detailed_feedback})]}),I.topics_to_revise?.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-[#6b7280] mb-1.5",children:"Revise:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:I.topics_to_revise.map((e,s)=>(0,t.jsx)("span",{className:"text-[10px] bg-red-50 text-red-600 border border-red-100 px-2 py-0.5 rounded-full",children:e},s))})]})]})]},"review"),"tutor"===$&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("input",{type:"text",value:q,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&X(),placeholder:"Ask the Socratic tutor…",className:"flex-1 border border-[#e5e7eb] rounded px-3 py-2 text-xs outline-none focus:border-[#f97316] bg-[#f9fafb]"}),(0,t.jsx)("button",{onClick:X,disabled:F,className:"btn-accent px-3 py-2",children:F?(0,t.jsx)(v,{className:"w-3.5 h-3.5 animate-spin"}):(0,t.jsx)(x,{className:"w-3.5 h-3.5"})})]}),U&&(0,t.jsx)("div",{className:"bg-[#f9fafb] border border-[#e5e7eb] rounded-lg p-3 text-xs text-[#374151] leading-relaxed whitespace-pre-wrap",children:U}),!U&&!F&&(0,t.jsx)("p",{className:"text-xs text-[#9ca3af]",children:"The AI won't give you the answer — it'll help you find it yourself."})]},"tutor"),"hint"===$&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[!O&&!D&&(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("p",{className:"text-sm text-[#6b7280] mb-4",children:"Stuck? Get a conceptual nudge (not an answer)."}),(0,t.jsxs)("button",{onClick:Y,className:"btn-accent px-6 py-2.5 text-xs flex items-center gap-2 mx-auto",children:[(0,t.jsx)(p.Lightbulb,{className:"w-3.5 h-3.5"})," Get a Hint"]})]}),D&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#6b7280]",children:[(0,t.jsx)(v,{className:"w-4 h-4 animate-spin text-[#f97316]"}),"Generating hint…"]}),O&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(p.Lightbulb,{className:"w-3.5 h-3.5 text-[#f97316]"}),(0,t.jsx)("span",{className:"text-xs font-bold text-[#f97316] uppercase tracking-wider",children:"Hint"})]}),(0,t.jsx)("p",{className:"text-xs text-[#374151] leading-relaxed bg-orange-50 border border-orange-100 rounded-lg p-3",children:O})]})]},"hint")]})})]})]})]})]})}e.s(["default",()=>w],26640)}]);