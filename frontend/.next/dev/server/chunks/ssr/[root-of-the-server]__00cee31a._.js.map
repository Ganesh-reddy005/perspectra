{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/ganeshreddybodireddy/Desktop/perspectra/frontend/app/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n\nconst api = axios.create({\n    baseURL: API_BASE,\n    headers: { \"Content-Type\": \"application/json\" },\n});\n\n// Attach JWT on every request\napi.interceptors.request.use((config) => {\n    if (typeof window !== \"undefined\") {\n        const token = localStorage.getItem(\"perspectra_token\");\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n    }\n    return config;\n});\n\n// Redirect to /login on 401\napi.interceptors.response.use(\n    (res) => res,\n    (err) => {\n        if (err.response?.status === 401 && typeof window !== \"undefined\") {\n            localStorage.removeItem(\"perspectra_token\");\n            window.location.href = \"/login\";\n        }\n        return Promise.reject(err);\n    }\n);\n\nexport default api;\n\n// ─── Auth ──────────────────────────────────────────────────────────────────\nexport const authApi = {\n    register: (data: { name: string; email: string; password: string }) =>\n        api.post(\"/auth/register\", data),\n    login: (data: { email: string; password: string }) =>\n        api.post(\"/auth/login\", data),\n    me: () => api.get(\"/auth/me\"),\n};\n\n// ─── Profile ──────────────────────────────────────────────────────────────\nexport const profileApi = {\n    get: () => api.get(\"/profile/me\"),\n    completeOnboarding: (answers: Record<string, string>) =>\n        api.post(\"/profile/onboarding\", { answers }),\n};\n\n// ─── Problems ─────────────────────────────────────────────────────────────\nexport const problemsApi = {\n    // Backend: GET /problems/list → { problems: [...], total: N }\n    list: (params?: { difficulty?: number; concept?: string }) =>\n        api.get(\"/problems/list\", { params }).then((r) => ({ ...r, data: r.data.problems ?? [] })),\n    // Backend: GET /problems/:id → { ...problem }\n    get: (id: string) => api.get(`/problems/${id}`),\n};\n\n// ─── Review ───────────────────────────────────────────────────────────────\nexport const reviewApi = {\n    submit: (data: { problem_id: string; code: string; language: string }) =>\n        api.post(\"/review/submit\", data),\n    // Backend: GET /review/history → { reviews: [...] }\n    history: () =>\n        api.get(\"/review/history\").then((r) => ({ ...r, data: r.data.reviews ?? [] })),\n};\n\n// ─── Tutor ────────────────────────────────────────────────────────────────\nexport const tutorApi = {\n    ask: (data: { problem_id: string; question: string }) =>\n        api.post(\"/tutor/ask\", data),\n    hint: (data: { problem_id: string }) => api.post(\"/tutor/hint\", data),\n};\n\n// ─── Graph ────────────────────────────────────────────────────────────────\nexport const graphApi = {\n    // Backend: GET /graph/concepts → { nodes: [...], edges: [...] }\n    concepts: () =>\n        api.get(\"/graph/concepts\").then((r) => ({ ...r, data: r.data.nodes ?? [] })),\n    // Backend: GET /graph/recommend → { recommendations: [...] }\n    recommendations: () =>\n        api.get(\"/graph/recommend\").then((r) => ({ ...r, data: r.data.recommendations ?? [] })),\n};\n\n// ─── Insights ─────────────────────────────────────────────────────────────\nexport const insightsApi = {\n    get: () => api.get(\"/insights/me\"),\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAEA,MAAM,WAAW,6DAAmC;AAEpD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QAAE,gBAAgB;IAAmB;AAClD;AAEA,8BAA8B;AAC9B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B;;IAMA,OAAO;AACX;AAEA,4BAA4B;AAC5B,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,MAAQ,KACT,CAAC;IACG,IAAI,IAAI,QAAQ,EAAE,WAAW,OAAO,kDAAkB;;IAItD,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW;AAGR,MAAM,UAAU;IACnB,UAAU,CAAC,OACP,IAAI,IAAI,CAAC,kBAAkB;IAC/B,OAAO,CAAC,OACJ,IAAI,IAAI,CAAC,eAAe;IAC5B,IAAI,IAAM,IAAI,GAAG,CAAC;AACtB;AAGO,MAAM,aAAa;IACtB,KAAK,IAAM,IAAI,GAAG,CAAC;IACnB,oBAAoB,CAAC,UACjB,IAAI,IAAI,CAAC,uBAAuB;YAAE;QAAQ;AAClD;AAGO,MAAM,cAAc;IACvB,8DAA8D;IAC9D,MAAM,CAAC,SACH,IAAI,GAAG,CAAC,kBAAkB;YAAE;QAAO,GAAG,IAAI,CAAC,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,MAAM,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE;YAAC,CAAC;IAC5F,8CAA8C;IAC9C,KAAK,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI;AAClD;AAGO,MAAM,YAAY;IACrB,QAAQ,CAAC,OACL,IAAI,IAAI,CAAC,kBAAkB;IAC/B,oDAAoD;IACpD,SAAS,IACL,IAAI,GAAG,CAAC,mBAAmB,IAAI,CAAC,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,MAAM,EAAE,IAAI,CAAC,OAAO,IAAI,EAAE;YAAC,CAAC;AACpF;AAGO,MAAM,WAAW;IACpB,KAAK,CAAC,OACF,IAAI,IAAI,CAAC,cAAc;IAC3B,MAAM,CAAC,OAAiC,IAAI,IAAI,CAAC,eAAe;AACpE;AAGO,MAAM,WAAW;IACpB,gEAAgE;IAChE,UAAU,IACN,IAAI,GAAG,CAAC,mBAAmB,IAAI,CAAC,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,MAAM,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;YAAC,CAAC;IAC9E,6DAA6D;IAC7D,iBAAiB,IACb,IAAI,GAAG,CAAC,oBAAoB,IAAI,CAAC,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,MAAM,EAAE,IAAI,CAAC,eAAe,IAAI,EAAE;YAAC,CAAC;AAC7F;AAGO,MAAM,cAAc;IACvB,KAAK,IAAM,IAAI,GAAG,CAAC;AACvB"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/ganeshreddybodireddy/Desktop/perspectra/frontend/app/problems/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuthStore } from \"../store/authStore\";\nimport { problemsApi } from \"../lib/api\";\nimport { Problem } from \"../lib/types\";\nimport { Search, Filter, ArrowRight, BookOpen } from \"lucide-react\";\n\nconst DIFF_LABELS = [\"\", \"Easy\", \"Easy-Med\", \"Medium\", \"Hard\", \"Expert\"];\nconst DIFF_COLORS = [\"\", \"text-green-600\", \"text-lime-600\", \"text-yellow-600\", \"text-red-600\", \"text-purple-600\"];\nconst DIFF_BG = [\"\", \"bg-green-50 border-green-200\", \"bg-lime-50 border-lime-200\", \"bg-yellow-50 border-yellow-200\", \"bg-red-50 border-red-200\", \"bg-purple-50 border-purple-200\"];\n\nexport default function ProblemsPage() {\n    const router = useRouter();\n    const { isAuthenticated } = useAuthStore();\n    const [problems, setProblems] = useState<Problem[]>([]);\n    const [filtered, setFiltered] = useState<Problem[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [search, setSearch] = useState(\"\");\n    const [diffFilter, setDiffFilter] = useState<number | null>(null);\n\n    useEffect(() => {\n        if (!isAuthenticated) { router.push(\"/login\"); return; }\n        problemsApi.list().then(({ data }) => {\n            setProblems(data || []);\n            setFiltered(data || []);\n        }).catch(() => { }).finally(() => setLoading(false));\n    }, [isAuthenticated, router]);\n\n    useEffect(() => {\n        let result = problems;\n        if (search) result = result.filter((p) => p.title.toLowerCase().includes(search.toLowerCase()));\n        if (diffFilter) result = result.filter((p) => p.difficulty === diffFilter);\n        setFiltered(result);\n    }, [search, diffFilter, problems]);\n\n    const getDotColor = (d: number) => {\n        const c = [\"\", \"bg-green-400\", \"bg-lime-400\", \"bg-yellow-400\", \"bg-red-400\", \"bg-purple-400\"];\n        return c[d] || \"bg-gray-400\";\n    };\n\n    return (\n        <div className=\"min-h-screen bg-[#faf9f6] pt-20\">\n            <div className=\"max-w-6xl mx-auto px-6 py-10\">\n\n                {/* Header */}\n                <motion.div\n                    className=\"mb-10\"\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                >\n                    <div className=\"flex items-center gap-2 mb-3\">\n                        <BookOpen className=\"w-5 h-5 text-[#f97316]\" />\n                        <span className=\"text-xs font-bold uppercase tracking-widest text-[#f97316]\">Problem Bank</span>\n                    </div>\n                    <h1 className=\"font-serif font-black text-4xl md:text-5xl text-[#0d0d0d] mb-3\">\n                        Browse Problems\n                    </h1>\n                    <p className=\"text-[#6b7280] text-lg\">\n                        50+ DSA problems across 30 concepts. Each one trains your thinking — not your memory.\n                    </p>\n                </motion.div>\n\n                {/* Filters */}\n                <motion.div\n                    className=\"flex flex-col sm:flex-row gap-3 mb-8\"\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.1 }}\n                >\n                    <div className=\"relative flex-1\">\n                        <Search className=\"w-4 h-4 text-[#9ca3af] absolute left-3 top-1/2 -translate-y-1/2\" />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search problems…\"\n                            value={search}\n                            onChange={(e) => setSearch(e.target.value)}\n                            className=\"w-full pl-10 pr-4 py-2.5 border border-[#e5e7eb] rounded-sm text-sm bg-white outline-none focus:border-[#f97316] transition-colors\"\n                        />\n                    </div>\n                    <div className=\"flex gap-2 flex-wrap\">\n                        <button\n                            onClick={() => setDiffFilter(null)}\n                            className={`px-3 py-2 text-xs font-semibold rounded-sm border transition-all ${!diffFilter ? \"bg-[#0d0d0d] text-white border-[#0d0d0d]\" : \"bg-white text-[#6b7280] border-[#e5e7eb] hover:border-[#9ca3af]\"}`}\n                        >All</button>\n                        {[1, 2, 3, 4, 5].map((d) => (\n                            <button\n                                key={d}\n                                onClick={() => setDiffFilter(d === diffFilter ? null : d)}\n                                className={`px-3 py-2 text-xs font-semibold rounded-sm border transition-all ${diffFilter === d ? `${DIFF_BG[d]} ${DIFF_COLORS[d]} border-current` : \"bg-white text-[#6b7280] border-[#e5e7eb] hover:border-[#9ca3af]\"}`}\n                            >\n                                {DIFF_LABELS[d]}\n                            </button>\n                        ))}\n                    </div>\n                </motion.div>\n\n                {/* Problem count */}\n                <p className=\"text-xs text-[#9ca3af] mb-4 uppercase tracking-widest\">\n                    {filtered.length} Problem{filtered.length !== 1 ? \"s\" : \"\"}\n                </p>\n\n                {/* Grid */}\n                {loading ? (\n                    <div className=\"flex justify-center py-20\">\n                        <div className=\"w-8 h-8 border-2 border-[#f97316] border-t-transparent rounded-full animate-spin\" />\n                    </div>\n                ) : (\n                    <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {filtered.map((p, i) => (\n                            <motion.div\n                                key={p.id}\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ duration: 0.4, delay: i * 0.04 }}\n                            >\n                                <Link\n                                    href={`/problems/${p.id}`}\n                                    className=\"block bg-white border border-[#e5e7eb] rounded-2xl p-5 card-hover no-underline h-full group\"\n                                >\n                                    <div className=\"flex items-start justify-between mb-3\">\n                                        <div className={`flex items-center gap-1.5 text-xs font-semibold px-2 py-1 rounded-full border ${DIFF_BG[p.difficulty]} ${DIFF_COLORS[p.difficulty]}`}>\n                                            <span className={`w-1.5 h-1.5 rounded-full ${getDotColor(p.difficulty)}`} />\n                                            {DIFF_LABELS[p.difficulty]}\n                                        </div>\n                                        <ArrowRight className=\"w-4 h-4 text-[#d1d5db] group-hover:text-[#f97316] transition-colors mt-0.5\" />\n                                    </div>\n                                    <h3 className=\"font-semibold text-[#0d0d0d] text-sm mb-2 leading-snug\">\n                                        {p.title}\n                                    </h3>\n                                    <p className=\"text-xs text-[#9ca3af] line-clamp-2 leading-relaxed mb-3\">\n                                        {p.description}\n                                    </p>\n                                    <div className=\"flex flex-wrap gap-1\">\n                                        {p.concept_ids?.slice(0, 3).map((c) => (\n                                            <span key={c} className=\"text-[10px] bg-[#f3f4f6] text-[#6b7280] px-2 py-0.5 rounded-full\">\n                                                {c}\n                                            </span>\n                                        ))}\n                                    </div>\n                                </Link>\n                            </motion.div>\n                        ))}\n                        {filtered.length === 0 && (\n                            <div className=\"col-span-3 text-center py-20 text-[#9ca3af]\">\n                                No problems match your filters.\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AATA;;;;;;;;;AAWA,MAAM,cAAc;IAAC;IAAI;IAAQ;IAAY;IAAU;IAAQ;CAAS;AACxE,MAAM,cAAc;IAAC;IAAI;IAAkB;IAAiB;IAAmB;IAAgB;CAAkB;AACjH,MAAM,UAAU;IAAC;IAAI;IAAgC;IAA8B;IAAkC;IAA4B;CAAiC;AAEnK,SAAS;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,yIAAY;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,iBAAiB;YAAE,OAAO,IAAI,CAAC;YAAW;QAAQ;QACvD,gIAAW,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE;YAC7B,YAAY,QAAQ,EAAE;YACtB,YAAY,QAAQ,EAAE;QAC1B,GAAG,KAAK,CAAC,KAAQ,GAAG,OAAO,CAAC,IAAM,WAAW;IACjD,GAAG;QAAC;QAAiB;KAAO;IAE5B,IAAA,kNAAS,EAAC;QACN,IAAI,SAAS;QACb,IAAI,QAAQ,SAAS,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW;QAC3F,IAAI,YAAY,SAAS,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK;QAC/D,YAAY;IAChB,GAAG;QAAC;QAAQ;QAAY;KAAS;IAEjC,MAAM,cAAc,CAAC;QACjB,MAAM,IAAI;YAAC;YAAI;YAAgB;YAAe;YAAiB;YAAc;SAAgB;QAC7F,OAAO,CAAC,CAAC,EAAE,IAAI;IACnB;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BAGX,8OAAC,oMAAM,CAAC,GAAG;oBACP,WAAU;oBACV,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;;sCAE5B,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,0NAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC;oCAAK,WAAU;8CAA6D;;;;;;;;;;;;sCAEjF,8OAAC;4BAAG,WAAU;sCAAiE;;;;;;sCAG/E,8OAAC;4BAAE,WAAU;sCAAyB;;;;;;;;;;;;8BAM1C,8OAAC,oMAAM,CAAC,GAAG;oBACP,WAAU;oBACV,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,YAAY;wBAAE,OAAO;oBAAI;;sCAEzB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,gNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;oCACG,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;;;;;;;;;;;;sCAGlB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCACG,SAAS,IAAM,cAAc;oCAC7B,WAAW,CAAC,iEAAiE,EAAE,CAAC,aAAa,6CAA6C,mEAAmE;8CAChN;;;;;;gCACA;oCAAC;oCAAG;oCAAG;oCAAG;oCAAG;iCAAE,CAAC,GAAG,CAAC,CAAC,kBAClB,8OAAC;wCAEG,SAAS,IAAM,cAAc,MAAM,aAAa,OAAO;wCACvD,WAAW,CAAC,iEAAiE,EAAE,eAAe,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,eAAe,CAAC,GAAG,mEAAmE;kDAEvN,WAAW,CAAC,EAAE;uCAJV;;;;;;;;;;;;;;;;;8BAWrB,8OAAC;oBAAE,WAAU;;wBACR,SAAS,MAAM;wBAAC;wBAAS,SAAS,MAAM,KAAK,IAAI,MAAM;;;;;;;gBAI3D,wBACG,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;;;;;;;;;yCAGnB,8OAAC;oBAAI,WAAU;;wBACV,SAAS,GAAG,CAAC,CAAC,GAAG,kBACd,8OAAC,oMAAM,CAAC,GAAG;gCAEP,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,YAAY;oCAAE,UAAU;oCAAK,OAAO,IAAI;gCAAK;0CAE7C,cAAA,8OAAC,uKAAI;oCACD,MAAM,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;oCACzB,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAW,CAAC,8EAA8E,EAAE,OAAO,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,UAAU,CAAC,EAAE;;sEACjJ,8OAAC;4DAAK,WAAW,CAAC,yBAAyB,EAAE,YAAY,EAAE,UAAU,GAAG;;;;;;wDACvE,WAAW,CAAC,EAAE,UAAU,CAAC;;;;;;;8DAE9B,8OAAC,gOAAU;oDAAC,WAAU;;;;;;;;;;;;sDAE1B,8OAAC;4CAAG,WAAU;sDACT,EAAE,KAAK;;;;;;sDAEZ,8OAAC;4CAAE,WAAU;sDACR,EAAE,WAAW;;;;;;sDAElB,8OAAC;4CAAI,WAAU;sDACV,EAAE,WAAW,EAAE,MAAM,GAAG,GAAG,IAAI,CAAC,kBAC7B,8OAAC;oDAAa,WAAU;8DACnB;mDADM;;;;;;;;;;;;;;;;+BAxBlB,EAAE,EAAE;;;;;wBAgChB,SAAS,MAAM,KAAK,mBACjB,8OAAC;4BAAI,WAAU;sCAA8C;;;;;;;;;;;;;;;;;;;;;;;AASzF"}}]
}